{"version":3,"sources":["components/ProtectedRoute.js","logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/Main.js","components/Register.js","components/Login.js","images/info-icons/success.svg","images/info-icons/fail.svg","components/InfoTooltip.js","utils/api.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["ProtectedRoute","Component","component","props","loggedIn","to","Header","className","src","logo","alt","children","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","type","onClick","onCardDelete","onCardClick","link","name","onCardLike","length","Footer","PopupWithForm","isOpen","onClose","title","formName","method","onSubmit","noValidate","buttonName","buttonTitle","EditProfilePopup","useEffect","setName","setDescription","about","useState","description","e","preventDefault","onUpdateUser","id","minLength","maxLength","autoComplete","placeholder","required","onChange","target","value","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","avatar","ref","AddPlacePopup","cardName","setCardName","cardLink","setCardLink","onAddPlace","ImagePopup","Main","userData","email","onSignOut","onEditAvatarPopup","onEditProfilePopup","onAddPlacePopup","cards","Array","from","map","isEditProfilePopupOpen","isEditAvatarPopupOpen","isAddPlacePopupOpen","isSubmitPopupOpen","selectedCard","isImagePopupOpen","Register","password","data","setData","handleChange","evt","onRegister","Login","onLogin","InfoTooltip","popupStatus","SuccessInfoImage","FailInfoImage","action","api","options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","handleOriginalResponse","body","JSON","stringify","cardId","newName","newAbout","newAvatar","cardLiked","authorization","BASE_URL","responseCheck","response","App","setLoggenIn","history","useHistory","setCurrentUser","setIsEditProfileOpen","setIsAddPlacePopupOpen","setIsEditAvatarPopupOpen","setIsSubmitPopupOpen","setIsImagePopupOpen","isInfoToolTipPopupOpen","setIsInfoToolTipPopupOpen","infoPopupStatus","setInfoPopupStatus","setSelectedCard","setCards","closeAllPopups","getInitialCards","cardsInfo","catch","err","console","log","getProfileData","userDara","token","jwt","localStorage","getItem","push","path","auth","setTimeout","setItem","Provider","cardData","changeLikeCardStatus","newCard","newCards","c","deletedCard","deleteCard","filter","currentCard","userInfo","updateProfileData","avatarInfo","updateProfileAvatar","cardInfo","addCard","removeItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6d95fb39.chunk.js","sourcesContent":["import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nfunction ProtectedRoute({component: Component, ...props}) {\n    return (\n        <Route>\n            {() => props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"/sign-in\" />}\n        </Route>\n    )\n}\n\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from 'react';\nimport logo from '../logo.svg';\n\nfunction Header(props) {\n  return (\n    <header className=\"header\">\n        <img className=\"header__logo\" src={logo} alt=\"Логотип сервиса Mesto\"></img>\n        {props.children}\n    </header>   \n  );\n}\n  \nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport React from 'react';\n\nfunction Card(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const isOwn = props.card.owner._id === currentUser._id;\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n    \n    const cardDeleteButtonClassName = (\n        `card__delete-button ${isOwn ? 'card__delete-button_visible' : 'card__delete-button_hidden'}`\n    );\n    const cardLikeButtonClassName = (\n        `card__like ${isLiked ? 'card__like_active' : ''}`\n    );\n\n    function handleClick() {\n        props.onCardClick(props.card);\n    }\n\n    function handleLikeClick() {\n        props.onCardLike(props.card);\n    }\n\n    function handlrDeleteClick() {\n        props.onCardDelete(props.card);\n    }\n\n    return (\n        <article className=\"card\" >\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handlrDeleteClick}></button>\n            <button type=\"button\" className=\"card__popup-button\" onClick={handleClick}>\n                <img className=\"card__picture\" src={`${props.card.link}`} alt={props.card.name}></img>\n            </button>\n            <div className=\"card__description\">\n                <h2 className=\"card__title\">{props.card.name}</h2>\n                <div className=\"card__like-section\">\n                <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n                <p className=\"card__like-number\">{props.card.likes.length}</p>\n                </div>\n            </div>\n            </article>\n    )\n}\n\nexport default Card;","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n        <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>  \n  );\n}\n  \nexport default Footer;","import React from 'react';\n\nfunction PopupWithForm(props) {\n\n    return (\n        <div className={`popup popup_type_${props.name} ${props.isOpen ? \"popup_opened\" : ''}`}>\n            <div className=\"popup__container\">\n            <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}></button>\n            <h2 className=\"popup__title\">{props.title}</h2>\n            <form className={`popup__form popup__form_type_${props.name}`} \n                    name={`Popup-form-${props.formName}`} method=\"post\" \n                    onSubmit={props.onSubmit} noValidate>\n                {props.children}\n                <button type=\"submit\" className={`popup__button popup__button_type_${props.buttonName}`}>{props.buttonTitle}</button>\n            </form>\n            </div>\n        </div>\n    );\n}\n\nexport default PopupWithForm;","import { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport React from 'react';\n\nfunction EditProfilePopup(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser]);\n\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n\n    function handleDescriptionChange(e) {\n        setDescription(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onUpdateUser({\n            name,\n            about: description\n        });\n    }\n\n    return (\n        <PopupWithForm \n        name='info'\n        title='Редактировать профиль'\n        formName='info'\n        buttonName='save'\n        buttonTitle='Сохранить'\n        isOpen={props.isOpen}\n        onClose={props.onClose}\n        onSubmit={handleSubmit}>\n          <input id=\"name\" type=\"text\" minLength=\"2\" maxLength=\"40\" autoComplete=\"off\" \n                placeholder=\"Имя\" name=\"name\" className=\"popup__text popup__text_type_name\" required \n                onChange={handleNameChange} value={name ? name : ''}></input>\n          <span id=\"name-error\" className=\"popup__text-error\"></span>\n          <input id=\"description\" type=\"text\" minLength=\"2\" maxLength=\"200\" autoComplete=\"off\" \n                placeholder=\"О себе\" name=\"description\" className=\"popup__text popup__text_type_description\" required\n                onChange={handleDescriptionChange} value={description ? description : ''}></input>\n          <span id=\"description-error\" className=\"popup__text-error\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;","import PopupWithForm from './PopupWithForm.js';\nimport React from 'react';\n\nfunction EditAvatarPopup(props) {\n    const avatarRef = React.useRef('');\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onUpdateAvatar({\n            avatar: avatarRef.current.value\n        })\n    }\n\n    React.useEffect(() => {\n        avatarRef.current.value = '';\n    }, [props.isOpen]);\n\n    return (\n        <PopupWithForm \n        name='edit-avatar'\n        title='Обновить аватар'\n        formName='avatar'\n        buttonName='update'\n        buttonTitle='Сохранить'\n        isOpen={props.isOpen}\n        onClose={props.onClose}\n        onSubmit={handleSubmit}>\n          <input id=\"avatar\" type=\"url\" placeholder=\"Ссылка на аватар\" \n                name=\"link\" className=\"popup__text popup__text_type_link\" \n                ref={avatarRef} required></input>\n          <span id=\"avatar-error\" className=\"popup__text-error\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;","import PopupWithForm from './PopupWithForm.js';\nimport React from 'react';\n\nfunction AddPlacePopup(props) {\n    const [cardName, setCardName] = React.useState('');\n    const [cardLink, setCardLink] = React.useState('');\n\n    React.useEffect(() => {\n        setCardName('');\n        setCardLink('');\n      }, [props.isOpen])\n\n    function handleCardNameChange(e) {\n        setCardName(e.target.value);\n    }\n\n    function handleCardLinkChange(e) {\n        setCardLink(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onAddPlace({\n            name: cardName,\n            link: cardLink\n        });\n    }\n\n    return (\n        <PopupWithForm \n        name='photos'\n        title='Новое место'\n        formName='photos'\n        buttonName='create'\n        buttonTitle='Создать'\n        isOpen={props.isOpen}\n        onClose={props.onClose}\n        onSubmit={handleSubmit}>\n          <input id=\"pic-name\" type=\"text\" minLength=\"2\" maxLength=\"30\" \n                placeholder=\"Имя\" name=\"name\" className=\"popup__text popup__text_type_pic-name\" \n                onChange={handleCardNameChange} value={cardName ? cardName : ''} required></input>\n          <span id=\"pic-name-error\" className=\"popup__text-error\"></span>\n          <input id=\"link\" type=\"url\" placeholder=\"Ссылка на картинку\" \n                name=\"link\" className=\"popup__text popup__text_type_link\" \n                onChange={handleCardLinkChange} value={cardLink ? cardLink : ''} required></input>\n          <span id=\"link-error\" className=\"popup__text-error\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;","import React from 'react';\n\nfunction ImagePopup(props) {\n    return (\n        <div className={`popup pic-popup ${props.isOpen ? \"popup_opened\" : ''}`}>\n            <div className=\"popup__container popup__container_place_picture\">\n            <button type=\"button\" className=\"popup__close-button popup__close-button_place_picture\" onClick={props.onClose}></button>\n                <img className=\"pic-popup__image\" src={props.isOpen ? props.card.link : \"\"} alt={props.isOpen ? props.card.name : \"\"}></img>\n                <p className=\"pic-popup__caption\">{props.isOpen ? props.card.name : \"\"}</p>\n            </div>\n        </div>\n    )\n}\n\nexport default ImagePopup;","import Card from './Card.js';\nimport Header from './Header.js';\nimport Footer from './Footer.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport React from 'react';\n\nfunction Main(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <>\n    <Header>\n      <div className=\"header__info\">\n        <p className=\"header__email\">{props.userData.email}</p>\n        <button type=\"button\" onClick={props.onSignOut} className=\"header__button header__button_place_main-page\">Выход</button>\n      </div>\n    </Header>\n\n    <main className=\"content\">\n        <section className=\"profile\">\n          <div className=\"profile__info\">\n            <span className = \"profile__image-wrapper\">\n              <button type=\"button\" className=\"profile__edit-avatar-button\" onClick={props.onEditAvatarPopup}></button>\n              <img className=\"profile__avatar\" src={`${currentUser.avatar}`} alt=\"Фотография профиля\"></img>\n            </span>\n            <div className=\"profile__data\">\n              <div className=\"profile__text\">\n                <h1 className=\"profile__name\">{currentUser.name}</h1>\n                <p className=\"profile__description\">{currentUser.about}</p>\n              </div>\n              <button type=\"button\" className=\"profile__edit-button\" onClick={props.onEditProfilePopup}></button>\n            </div>\n          </div>\n          <button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlacePopup}></button>\n        </section>\n\n        <section className=\"photo-grid\">\n          {props.cards ? Array.from(props.cards).map((card) => {\n            return (<Card card={card} \n            key={card._id} \n            onCardClick={props.onCardClick}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete}/>)\n          }) : []}\n        </section>\n    </main> \n\n    <Footer></Footer> \n\n    <EditProfilePopup\n      isOpen={props.isEditProfilePopupOpen}\n      onClose={props.onClose}\n      onUpdateUser={props.onUpdateUser}\n    ></EditProfilePopup>\n\n    <EditAvatarPopup\n      isOpen={props.isEditAvatarPopupOpen}\n      onClose={props.onClose}\n      onUpdateAvatar={props.onUpdateAvatar}>\n    </EditAvatarPopup>\n\n    <AddPlacePopup\n      isOpen={props.isAddPlacePopupOpen}\n      onClose={props.onClose}\n      onAddPlace={props.onAddPlace}>\n    </AddPlacePopup>\n\n    <PopupWithForm \n      name='submit'\n      title='Вы уверены?'\n      buttonName='submit-action'\n      buttonTitle='Да'\n      isOpen={props.isSubmitPopupOpen}\n      onClose={props.onClose}/>\n\n    <ImagePopup \n      card={props.selectedCard}\n      isOpen={props.isImagePopupOpen}\n      onClose={props.onClose}\n    />\n\n    </>\n  );\n}\n  \nexport default Main;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Register(props) {\n    const initialData = {\n        email: '',\n        password: ''\n    }\n    const [data, setData] = React.useState(initialData);\n\n    const handleChange = (evt) => {\n        const { name, value } = evt.target;\n        setData(data => ({\n            ...data,\n            [name]: value,\n        }))\n    }\n\n    const handleSubmit = (evt) => {\n        evt.preventDefault();\n        if (!data.email || !data.password) {\n            return;\n        }\n\n        props.onRegister(data);\n    }\n\n    return (\n        <section className=\"sign sign-up\">\n            <h1 className=\"sign__title\">Регистрация</h1>\n            <form className=\"sign__form sign-up__form\"\n                    name=\"Sign-up-form\" method=\"post\"\n                    onSubmit={handleSubmit} noValidate>\n                <input type=\"email\" placeholder=\"Email\"\n                        name=\"email\" className=\"sign__input\"\n                        value={data.email} onChange={handleChange} \n                        required></input>\n                <input type=\"password\" placeholder=\"Пароль\"\n                        name=\"password\" className=\"sign__input\"\n                        value={data.password} onChange={handleChange} \n                        required></input>\n                    <button type=\"submit\" className=\"sign__submit-button sign-up__submit-button\">Зарегистрироваться</button>     \n            </form>\n            <Link to=\"/sign-in\" className=\"sign__button sign-up__button\">\n                Уже зарегистрированы? Войти\n            </Link>\n        </section>\n    )\n};\n\nexport default Register;","import React from 'react';\n\nfunction Login(props) {\n    const initialData = {\n        email: '',\n        password: ''\n    }\n    const [data, setData] = React.useState(initialData);\n\n    const handleChange = (evt) => {\n        const { name, value } = evt.target;\n        setData(data => ({\n            ...data,\n            [name]: value,\n        }))\n    } \n\n    const handleSubmit = (evt) => {\n        evt.preventDefault();\n        if (!data.email || !data.password) {\n            return;\n        }\n\n        props.onLogin(data);\n    }\n\n    return (\n        <section className=\"sign sign-in\">\n            <h1 className=\"sign__title\">Вход</h1>\n            <form onSubmit={handleSubmit} className=\"sign__form sign-in__form\"\n                    name=\"Sign-in-form\" method=\"post\"\n                     noValidate>\n                <input type=\"email\" placeholder=\"Email\"\n                        name=\"email\" className=\"sign__input\"\n                        value={data.email} onChange={handleChange}\n                        required></input>\n                <input type=\"password\" placeholder=\"Пароль\"\n                    name=\"password\" className=\"sign__input\"\n                    value={data.password} onChange={handleChange}\n                    required></input>\n                    <button type=\"submit\" className=\"sign__submit-button sign-up__submit-button\">Войти</button>     \n            </form>\n        </section>\n    )\n};\n\nexport default Login;","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import React from 'react';\nimport SuccessInfoImage from '../images/info-icons/success.svg';\nimport FailInfoImage from '../images/info-icons/fail.svg';\n\nfunction InfoTooltip(props) {\n    return (\n        <div className={`popup infotooltip ${props.isOpen ? \"popup_opened\" : ''}`}>\n            <div className=\"popup__container infotooltip__container\">\n                <button type=\"button\" className=\"popup__close-button\" onClick={props.onClose}></button>\n                <img className=\"infotooltip__picture\" src={props.popupStatus ? SuccessInfoImage : FailInfoImage} alt=\"Информационная иконка\"></img>\n                <h2 className=\"popup__title infotooltip__title\">\n                    {props.popupStatus ? \n                        `Вы успешно ${props.action}!`\n                        : \"Что-то пошло не так! Попробуйте ещё раз.\"}\n                </h2>\n            </div>\n        </div>\n    )\n};\n\nexport default InfoTooltip;","class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n\n  handleOriginalResponse (res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}cards`, {\n      headers: this._headers\n    })\n    .then(res => this.handleOriginalResponse(res));\n  }\n\n  addCard(cardName, cardLink) {\n    return fetch(`${this._url}cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: cardName,\n        link: cardLink\n      })\n    })\n    .then(res => this.handleOriginalResponse(res));\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._url}cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n    .then(res => this.handleOriginalResponse(res));\n  }\n\n  getProfileData() {\n    return fetch(`${this._url}users/me`, {\n      headers: this._headers\n    })\n    .then(res => this.handleOriginalResponse(res));\n  }\n\n  updateProfileData(newName, newAbout) {\n    return fetch(`${this._url}users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: newName,\n        about: newAbout\n      })\n    })\n    .then(res => this.handleOriginalResponse(res));\n  }\n\n  updateProfileAvatar(newAvatar) {\n    return fetch(`${this._url}users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: newAvatar\n      })\n    })\n    .then(res => this.handleOriginalResponse(res));\n  }\n\n  setLike(cardId) {\n    return fetch(`${this._url}cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this._headers\n    })\n    .then(res => this.handleOriginalResponse(res));\n  }\n\n  removeLike(cardId) {\n    return fetch(`${this._url}cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n    .then(res => this.handleOriginalResponse(res));\n  }\n\n  changeLikeCardStatus(cardId, cardLiked) {\n    return fetch(`${this._url}cards/likes/${cardId}`, {\n      method: cardLiked ? 'DELETE' : 'PUT',\n      headers: this._headers\n    })\n    .then(res => this.handleOriginalResponse(res));\n  }\n\n}\n\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-19/',\n  headers: {\n    authorization: '7ff747f4-57ba-4d6b-8671-46b7cc0f01d2',\n    'Content-type': 'application/json'\n  }\n});\n\nexport default api;\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\n\nconst responseCheck = (response) => response.ok ? response.json() : Promise.reject(`Ошибка ${response.status}`);\n\nexport const register = (data) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            authorization: '7ff747f4-57ba-4d6b-8671-46b7cc0f01d2',\n            \"Accept\": \"application.json\",\n            \"Content-Type\": \"application/json\" \n        },\n        body: JSON.stringify({\n            \"password\": data.password,\n            \"email\": data.email\n        })\n    })\n    .then(res => responseCheck(res))\n}\n\nexport const login = (data) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            authorization: '7ff747f4-57ba-4d6b-8671-46b7cc0f01d2',\n            \"Accept\": \"application.json\",\n            \"Content-Type\": \"application/json\" \n        },\n        body: JSON.stringify({\n            \"password\": data.password,\n            \"email\": data.email\n        })\n    })\n    .then(res => responseCheck(res))\n}\n\nexport const getContent = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            \"Accept\": \"application.json\",\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    })\n    .then(res => responseCheck(res))\n}\n","import React, {useState, useEffect } from 'react';\nimport { Redirect, Switch, Route, Link, useHistory } from 'react-router-dom';\nimport ProtectedRoute from './ProtectedRoute.js';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Register from './Register.js';\nimport Login from './Login.js';\nimport InfoTooltip from './InfoTooltip.js';\nimport api from '../utils/api.js';\nimport * as auth from '../utils/auth.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport './App.css';\n\n\n\nfunction App() {\n  const [loggedIn, setLoggenIn] = useState(false);\n  const history = useHistory();\n  const initialData = {\n    email: '',\n    password: ''\n  }\n  const [data, setData] = React.useState(initialData);\n\n  //контекст пользователя\n  const [currentUser, setCurrentUser] = useState({});\n\n  const [isEditProfilePopupOpen, setIsEditProfileOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isSubmitPopupOpen, setIsSubmitPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [isInfoToolTipPopupOpen, setIsInfoToolTipPopupOpen] = useState(false);\n  const [infoPopupStatus, setInfoPopupStatus] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n\n  const [cards, setCards] = useState([]);\n\n    useEffect(() => {\n      const initialCards = api.getInitialCards();\n      initialCards.then((cardsInfo) => {\n        setCards(cardsInfo);\n      })\n      .catch((err) => console.log(err));\n    }, []);\n\n\n    function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map(c => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err) => console.log(err));\n    }\n\n    function handleCardDelete(deletedCard) {\n      api.deleteCard(deletedCard._id)\n        .then(() => {\n          const newCards = cards.filter(currentCard => currentCard != deletedCard);\n          setCards(newCards);\n        })\n        .catch((err) => console.log(err));\n    }\n\n  useEffect(() => {\n    api.getProfileData()\n      .then((userDara) => {\n        setCurrentUser(userDara);\n      })\n      .catch((err) => console.log(err))\n  }, []);\n\n  function handleCardClick(cardData) {\n    setIsImagePopupOpen(true);\n    setSelectedCard(cardData);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfileOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsSubmitPopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsInfoToolTipPopupOpen(false);\n    setSelectedCard(null);\n  }\n\n  function handleUpdateUser(userInfo) {\n    api.updateProfileData(userInfo.name, userInfo.about)\n      .then((userInfo) => {\n        setCurrentUser(userInfo);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateAvatar(avatarInfo) {\n    api.updateProfileAvatar(avatarInfo.avatar)\n      .then((avatarInfo) => {\n        setCurrentUser(avatarInfo);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleAddPlaceSubmit(cardInfo) {\n    api.addCard(cardInfo.name, cardInfo.link)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleEditProfilePopupOpen() {\n    setIsEditProfileOpen(true);\n  }\n\n  function handleAddPlacePopupOpen() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarPopupOpen() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      auth.getContent(jwt)\n        .then(res => {\n          setLoggenIn(true);\n          setData({\n            email: res.data.email,\n            password: res.data.password\n          })\n          history.push('/');\n        })\n        .catch(() => history.push('/sign-in'));\n    }\n  }, [history]);\n\n  function handleLogin (data) {\n    auth.login(data)\n      .then(res => {\n        localStorage.setItem('jwt', res.token);\n        setData({\n          email: data.email,\n          password: data.password\n        });\n        setLoggenIn(true);\n        setInfoPopupStatus(true);\n        setIsInfoToolTipPopupOpen(true);\n        setTimeout(() => {\n          setIsInfoToolTipPopupOpen(false);\n          history.push('/');\n        }, 2000);\n      })\n      .catch(err => {\n        setIsInfoToolTipPopupOpen(true);\n        setInfoPopupStatus(false);\n        console.log(err)\n      });\n  }\n\n  function handleRegister (data) {\n    auth.register(data)\n      .then(() => {\n        setIsInfoToolTipPopupOpen(true);\n        setInfoPopupStatus(true);\n        setTimeout(() => {\n          setIsInfoToolTipPopupOpen(false);\n          history.push('/sign-in');\n        }, 2000);\n      })\n      .catch(err => {\n        console.log(err);\n        setIsInfoToolTipPopupOpen(true);\n        setInfoPopupStatus(false);\n      });\n  }\n\n  const handleSignOut = () => {\n    localStorage.removeItem('jwt');\n    setLoggenIn(false);\n    history.push('/sing-in');\n  }\n\n  return (\n<div className=\"App\">\n  <div className=\"page\">\n    <div className=\"page_content\">\n\n    \n      <Switch>\n        <Route path=\"/sign-up\">\n          <Header>\n            <Link to=\"/sign-in\" className=\"header__button header__button_place_sign-up\">Войти</Link>\n          </Header>\n          <Register\n            onRegister={handleRegister}\n          ></Register>\n          <InfoTooltip\n            isOpen={isInfoToolTipPopupOpen}\n            popupStatus={infoPopupStatus}\n            onClose={closeAllPopups}\n            action={\"зарегистрировались\"}\n            ></InfoTooltip>\n        </Route>\n        <Route path=\"/sign-in\">\n          <Header>\n            <Link to=\"/sign-up\" className=\"header__button header__button_place_sign-up\">Регистрация</Link>\n          </Header>\n          <Login\n            onLogin={handleLogin}\n          ></Login>\n          <InfoTooltip\n            isOpen={isInfoToolTipPopupOpen}\n            popupStatus={infoPopupStatus}\n            onClose={closeAllPopups}\n            action={\"авторизировались\"}\n            ></InfoTooltip>\n        </Route>\n        <CurrentUserContext.Provider value={currentUser}>\n        <ProtectedRoute path=\"/\"\n                component={Main}\n                loggedIn={loggedIn}\n                userData={data}\n\n                onEditProfilePopup={handleEditProfilePopupOpen}\n                onAddPlacePopup={handleAddPlacePopupOpen}\n                onEditAvatarPopup={handleEditAvatarPopupOpen}\n                cards={cards}\n                selectedCard={selectedCard}\n                onCardClick={handleCardClick}\n                onCardLike={handleCardLike}\n                onCardDelete={handleCardDelete}\n\n                isEditProfilePopupOpen={isEditProfilePopupOpen}\n                isEditAvatarPopupOpen={isEditAvatarPopupOpen}\n                isAddPlacePopupOpen={isAddPlacePopupOpen}\n                isSubmitPopupOpen={isSubmitPopupOpen}\n                isImagePopupOpen={isImagePopupOpen}\n\n                onClose={closeAllPopups}\n                onUpdateUser={handleUpdateUser}\n                onUpdateAvatar={handleUpdateAvatar}\n                onAddPlace={handleAddPlaceSubmit}\n                onSignOut={handleSignOut}\n                >\n        \n        </ProtectedRoute>\n        </CurrentUserContext.Provider> \n        \n        <Route>\n          {!loggedIn ? <Redirect to=\"/sign-in\" /> : <Redirect to=\"/\" />}\n        </Route>\n      </Switch>\n    \n    </div>\n        </div>\n        </div>\n  );\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}